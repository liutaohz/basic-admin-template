"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[402],{29737:function(e,n,r){r.r(n);var t=r(27424),a=r.n(t),o=r(42122),s=r.n(o),c=r(17061),d=r.n(c),u=r(17156),i=r.n(u),l=r(60532),g=r(11912),f=r(10154),m=r(67294),x=r(85893),k=[{key:"key1",name:"John Brown",age:32,address:"New York No. 1 Lake Park",index:0},{key:"key2",name:"Jim Green",age:42,address:"London No. 1 Lake Park",index:1},{key:"key3",name:"Joe Black",age:32,address:"Sidney No. 1 Lake Park",index:2}],p=function(){var e=i()(d()().mark((function e(){var n,r=arguments;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:1e3,e.abrupt("return",new Promise((function(e){return setTimeout((function(){return e(void 0)}),n)})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=k.map((function(e){return s()(s()({},e),{},{name:"[remote data] ".concat(e.name)})})),y=function(){var e=i()(d()().mark((function e(){return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(3e3);case 2:return e.abrupt("return",{data:h,total:h.length,success:!0});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n.default=function(){var e=[{title:"排序",dataIndex:"sort",render:function(e,n,r){return(0,x.jsx)("span",{className:"customRender",children:"自定义Render[".concat(n.name,"-").concat(r,"]")})}},{title:"姓名",dataIndex:"name",className:"drag-visible"},{title:"年龄",dataIndex:"age"},{title:"地址",dataIndex:"address"}],n=[{title:"排序",dataIndex:"sort"},{title:"姓名",dataIndex:"name",className:"drag-visible"},{title:"年龄",dataIndex:"age"},{title:"地址",dataIndex:"address"}],r=(0,m.useRef)(),t=(0,m.useState)(k),o=a()(t,2),s=o[0],c=o[1],d=(0,m.useState)(k),u=a()(d,2),i=u[0],p=u[1];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(g.Z,{headerTitle:"拖拽排序(默认把手)",columns:e,rowKey:"key",pagination:!1,dataSource:s,dragSortKey:"sort",onDragSortEnd:function(e){console.log("排序后的数据",e),c(e),f.ZP.success("修改列表排序成功")}}),(0,x.jsx)(g.Z,{headerTitle:"拖拽排序(自定义把手)",columns:n,rowKey:"index",search:!1,pagination:!1,dataSource:i,dragSortKey:"sort",dragSortHandlerRender:function(e,n){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(l.Z,{style:{cursor:"grab",color:"gold"}})," ",n+1," - ",e.name]})},onDragSortEnd:function(e){console.log("排序后的数据",e),p(e),f.ZP.success("修改列表排序成功")}}),(0,x.jsx)(g.Z,{actionRef:r,headerTitle:"使用 request 获取数据源",columns:n,rowKey:"index",search:!1,pagination:!1,request:y,dragSortKey:"sort",onDragSortEnd:function(e){var n;console.log("排序后的数据",e),h=e,null===(n=r.current)||void 0===n||n.reload(),f.ZP.success("修改列表排序成功")}})]})}}}]);